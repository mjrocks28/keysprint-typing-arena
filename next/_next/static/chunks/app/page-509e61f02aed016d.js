(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{429:(e,t,i)=>{"use strict";i.d(t,{default:()=>u});var a=i(5155),s=i(2115);function n(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let t,i=e.current;if(!i)return;let a=i.getContext("2d");if(!a)return;let s=i.width=window.innerWidth,n=i.height=window.innerHeight,r=[],l=()=>{s=i.width=window.innerWidth,n=i.height=window.innerHeight},o=(e,t)=>{r.push({x:e,y:t,vx:(Math.random()-.5)*1.6,vy:(Math.random()-.5)*1.6,life:1,size:2+3*Math.random(),hue:180+140*Math.random()}),r.length>120&&r.shift()},c=null,u=null,d=e=>{let t=e.clientX,i=e.clientY;if(null!==c&&null!==u){let e=t-c,a=i-u,s=Math.max(1,Math.hypot(e,a)/12);for(let t=0;t<s;t++){let i=t/s;o(c+e*i,u+a*i)}}o(t,i),c=t,u=i},h=()=>{a.clearRect(0,0,s,n);for(let e=r.length-1;e>=0;e--){let t=r[e];if(t.x+=t.vx,t.y+=t.vy,t.vy+=.01,t.life*=.975,t.life<.04){r.splice(e,1);continue}let i=Math.max(0,Math.min(1,t.life));a.beginPath();let s=a.createRadialGradient(t.x,t.y,0,t.x,t.y,2.2*t.size);s.addColorStop(0,"hsla(".concat(t.hue,", 100%, 65%, ").concat(i,")")),s.addColorStop(1,"hsla(".concat(t.hue,", 100%, 65%, 0)")),a.fillStyle=s,a.arc(t.x,t.y,2.2*t.size,0,2*Math.PI),a.fill()}t=requestAnimationFrame(h)};return window.addEventListener("resize",l),window.addEventListener("mousemove",d),t=requestAnimationFrame(h),()=>{window.removeEventListener("resize",l),window.removeEventListener("mousemove",d),cancelAnimationFrame(t)}},[]),(0,a.jsx)("canvas",{ref:e,className:"bg-canvas","aria-hidden":"true"})}let r={easy:["Stay hungry, stay foolish.","Just keep swimming.","May the Force be with you.","Winter is coming.","To infinity and beyond!","Why so serious?","I am inevitable.","Hakuna Matata.","I'll be back.","You got this.","Just do it.","Keep moving forward.","Believe you can.","You are enough.","Never give up.","Think different.","Stronger together.","Dream big.","Seize the day.","Make it happen."],medium:["The quick brown fox jumps over the lazy dog","Simplicity is the soul of efficiency.","First, solve the problem. Then, write the code.","Talk is cheap. Show me the code.","Quality is not an act, it is a habit.","Action is the foundational key to all success.","The secret of getting ahead is getting started.","Success is the sum of small efforts repeated day in and day out.","What we know is a drop, what we don't know is an ocean.","Learning never exhausts the mind.","Do or do not. There is no try.","Not all those who wander are lost.","With great power comes great responsibility.","I find your lack of faith disturbing.","Elementary, my dear Watson.","Fortune favors the bold.","Adventure is out there.","Imagination is more important than knowledge.","Life is what happens when you're busy making other plans.","The only limit is your mind."],hard:["Programs must be written for people to read, and only incidentally for machines to execute.","Any fool can write code that a computer can understand. Good programmers write code that humans can understand.","Perfection is achieved not when there is nothing more to add, but when there is nothing left to take away.","A good programmer is someone who looks both ways before crossing a one-way street.","Before software can be reusable it first has to be usable.","Premature optimization is the root of all evil.","The function of good software is to make the complex appear simple.","Experience is the name everyone gives to their mistakes.","The best code is no code at all.","Simplicity is prerequisite for reliability.","Controlling complexity is the essence of computer programming.","Testing leads to failure, and failure leads to understanding.","The most effective debugging tool is still careful thought.","Optimize for readability; machines will cope.","If it hurts, do it more often.","In theory, theory and practice are the same; in practice, they are not.","There are only two hard things in Computer Science: cache invalidation and naming things.","The purpose of abstraction is to create a new semantic level.","Weeks of coding can save you hours of planning.","Make it work, then make it right, then make it fast."],warrior:["Supercalifragilisticexpialidocious words bewilder and bamboozle conscientious keyboard warriors daily.","Pseudopseudohypoparathyroidism perplexes pneumonoultramicroscopicsilicovolcanoconiosis enthusiasts.","Floccinaucinihilipilification of antidisestablishmentarianism is an onomatopoetic tongue twister.","Bewitching syzygy juxtaposes quixotic zephyrs with rhombic dodecahedra and chrysanthemum phyllotaxis.","The ineffable labyrinthine idiosyncrasies of sesquipedalian perspicacity tantalize indefatigable typists.","A waxy sphinx box jig vexed the lazy dwarf; pack my box with five dozen liquor jugs, quickly!","Sphinx of black quartz, judge my vow, while the jayhawk extols quirky rhythmic buzzwords.","Crazy Fredericka bought many very exquisite opal jewels; jackdaws love my big sphinx of quartz.","The sixth sick sheik's sixth sheep's sick, amidst bewildering rhythms and zephyr-like whizbangs.","Sympathizing, unscrupulous, mischievous onlookers scrutinize unequivocally the incommunicable oeuvre.","How quickly daft jumping zebras vex.","The five boxing wizards jump quickly.","Glib jocks quiz nymph to vex dwarf.","Cwm fjord bank glyphs vext quiz.","Woven silk pyjamas exchanged for blue quartz.","Grumpy wizards make toxic brew for the evil queen and jack.","Honorificabilitudinitatibus appears in Shakespeare's play.","Hydrochlorofluorocarbons photolithographically crystallize zeolites.","Thyroparathyroidectomized patients exhibit extraordinary electrophysiology.","Unquestionably, subdermatoglyphic rhythms synchronize with xylophone jazz."]},l="typing_scores_v2";function o(){let[e,t]=(0,s.useState)([]);(0,s.useEffect)(()=>{t(function(e){if(!e)return[];try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return[]}}(window.localStorage.getItem(l)))},[]);let i=(0,s.useCallback)(e=>{try{window.localStorage.setItem(l,JSON.stringify(e))}catch(e){}},[]),a=(0,s.useCallback)(a=>{let s=[{...a,timestamp:Date.now()},...e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,100);t(s),i(s)},[i,e]),n=(0,s.useMemo)(()=>{if(0!==e.length)return e.reduce((e,t)=>t.wpm>e.wpm?t:e,e[0])},[e]),r=(0,s.useMemo)(()=>{let t={};for(let s of e){var i,a;let e=null!=(i=s.difficulty)?i:"medium";(!t[e]||s.wpm>(null!=(a=t[e].wpm)?a:0))&&(t[e]=s)}return t},[e]),o=(0,s.useMemo)(()=>e.slice().sort((e,t)=>t.timestamp-e.timestamp).slice(0,10),[e]);return{scores:e,recordResult:a,bestOverall:n,bestByDifficulty:r,recentTop10:o}}function c(){var e,t,i,s;let{bestOverall:n,bestByDifficulty:r,recentTop10:l}=o(),c={easy:"Easy",medium:"Medium",hard:"Hard",warrior:"Keyboard Warrior"};return(0,a.jsxs)("div",{className:"scoreboard",children:[(0,a.jsx)("div",{className:"best",children:(0,a.jsxs)("div",{className:"best-grid",children:[(e="Best (All)",(0,a.jsxs)("p",{className:"badge",children:[(0,a.jsx)("span",{className:"label",children:e}),(0,a.jsx)("span",{children:null!=(t=null==n?void 0:n.wpm)?t:0})," WPM • ",(0,a.jsx)("span",{children:null!=(i=null==n?void 0:n.words)?i:0})," words • ",(0,a.jsx)("span",{children:null!=(s=null==n?void 0:n.time)?s:0}),"s"]},"best-".concat(e))),["easy","medium","hard","warrior"].map(e=>{var t,i,s,n,l,o;return(0,a.jsxs)("p",{className:"badge",children:[(0,a.jsx)("span",{className:"label",children:c[e]}),(0,a.jsx)("span",{children:null!=(n=null==r||null==(t=r[e])?void 0:t.wpm)?n:0})," WPM • ",(0,a.jsx)("span",{children:null!=(l=null==r||null==(i=r[e])?void 0:i.words)?l:0})," words • ",(0,a.jsx)("span",{children:null!=(o=null==r||null==(s=r[e])?void 0:s.time)?o:0}),"s"]},"best-".concat(e))})]})}),(0,a.jsx)("ul",{className:"recent-list",children:l.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{children:[e.wpm," WPM • ",e.words," words • ",e.time,"s • ",e.difficulty," • ",e.timeLimit,"s"]}),(0,a.jsx)("span",{className:"meta",children:function(e){try{return new Date(e).toLocaleString()}catch(e){return""}}(e.timestamp)})]},"".concat(e.timestamp,"-").concat(e.wpm,"-").concat(e.words)))})]})}function u(){var e;let t=function(){let[e,t]=(0,s.useState)(120),[i,a]=(0,s.useState)("medium"),[n,l]=(0,s.useState)(120),[c,u]=(0,s.useState)(120),[d,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),[y,f]=(0,s.useState)(r.medium.slice()),[g,w]=(0,s.useState)(""),[x,b]=(0,s.useState)(0),[v,j]=(0,s.useState)(!1),k=(0,s.useRef)(null),N=(0,s.useRef)(null),{recordResult:S}=o(),z=(0,s.useMemo)(()=>n>0?Math.max(0,c/n):0,[c,n]),M=(0,s.useMemo)(()=>n-c,[n,c]),C=(0,s.useMemo)(()=>M<=0?0:Math.floor(x/M*60),[M,x]),T=(0,s.useMemo)(()=>z>.5?"ok":z>.2?"warn":"danger",[z]),q=(0,s.useCallback)(e=>f(r[e].slice()),[]);(0,s.useEffect)(()=>{q(i)},[i,q]);let E=(0,s.useCallback)(()=>{f(e=>{let t=e;t&&0!==t.length||(t=r[i].slice());let a=Math.floor(Math.random()*t.length),[s]=t.splice(a,1);return p(s),w(""),[...t]})},[i]),P=(0,s.useCallback)(()=>{l(e),u(e),b(0),j(!1),h(!0),E()},[E,e]);(0,s.useEffect)(()=>{if(d)return k.current&&clearInterval(k.current),k.current=setInterval(()=>{u(e=>e-1)},1e3),()=>{k.current&&clearInterval(k.current),k.current=null}},[d]),(0,s.useEffect)(()=>{d&&c<=0&&(h(!1),j(!0),S({wpm:Number(C)||0,words:x,time:n,difficulty:i,timeLimit:e}))},[M,d,S,c,n,C,x,i,e]);let W=(0,s.useCallback)(e=>{w(e);let t=m.split(""),i=e.split(""),a=!0;for(let e=0;e<t.length;e++){let s="\xa0"===t[e]?" ":t[e],n="\xa0"===i[e]?" ":i[e];if(null==n){a=!1;break}n!==s&&(a=!1)}a&&i.length===t.length&&(b(e=>e+m.split(/\s+/).length),E())},[m,E]);return{timeLimit:e,setTimeLimit:t,difficulty:i,setDifficulty:a,totalTime:n,timeLeft:c,ratio:z,barState:T,wpm:C,isRunning:d,currentQuote:m,inputValue:g,wordsTyped:x,popupOpen:v,inputRef:N,start:P,onInputChange:W,closePopup:(0,s.useCallback)(()=>j(!1),[])}}();return e=t.popupOpen,(0,s.useEffect)(()=>{let t;if(!e)return;let a=!1;return(async()=>{let{default:e}=await i.e(585).then(i.bind(i,5585)),s=Date.now()+1200,n={startVelocity:35,spread:360,ticks:80,zIndex:3e3},r=()=>{!a&&(e({...n,particleCount:24,origin:{x:.2,y:.2}}),e({...n,particleCount:24,origin:{x:.8,y:.2}}),e({...n,particleCount:20,origin:{x:.5,y:.1}}),Date.now()<s&&(t=requestAnimationFrame(r)))};t=requestAnimationFrame(r)})(),()=>{a=!0,t&&cancelAnimationFrame(t)}},[e]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t.popupOpen&&t.closePopup(),"Enter"===e.key&&(t.popupOpen?(t.closePopup(),t.start()):t.isRunning||t.start())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t.closePopup,t.isRunning,t.popupOpen,t.start]),(0,s.useEffect)(()=>{var e;t.isRunning&&(null==(e=t.inputRef.current)||e.focus())},[t.isRunning]),(0,a.jsxs)("div",{className:"layout",children:[(0,a.jsx)(n,{}),(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("h1",{className:"title",children:[(0,a.jsx)("span",{className:"emoji",children:"⚡"})," KeySprint"]}),(0,a.jsx)("p",{className:"subtitle",children:"Master the neon typing arena. Race the clock, crush words, and climb your WPM."}),(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsxs)("div",{id:"timeSelect",className:"control",children:[(0,a.jsx)("label",{htmlFor:"timeLimit",children:"Time Limit"}),(0,a.jsxs)("select",{id:"timeLimit",value:t.timeLimit,onChange:e=>t.setTimeLimit(Number(e.target.value)),children:[(0,a.jsx)("option",{value:30,children:"30 seconds"}),(0,a.jsx)("option",{value:60,children:"1 minute"}),(0,a.jsx)("option",{value:120,children:"2 minutes"}),(0,a.jsx)("option",{value:180,children:"3 minutes"}),(0,a.jsx)("option",{value:300,children:"5 minutes"})]})]}),(0,a.jsxs)("div",{id:"difficultySelect",className:"control",children:[(0,a.jsx)("label",{htmlFor:"difficulty",children:"Difficulty"}),(0,a.jsxs)("select",{id:"difficulty",value:t.difficulty,onChange:e=>t.setDifficulty(e.target.value),children:[(0,a.jsx)("option",{value:"easy",children:"Easy"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"hard",children:"Hard"}),(0,a.jsx)("option",{value:"warrior",children:"Keyboard Warrior"})]})]})]}),(0,a.jsxs)("div",{className:"progress ".concat(t.isRunning?t.barState:""),"aria-label":"Time remaining",children:[(0,a.jsx)("div",{className:"progress-fill",style:{transform:"scaleX(".concat(t.ratio,")")}}),(0,a.jsxs)("div",{className:"progress-label",children:[(0,a.jsx)("span",{children:t.timeLeft}),"s"]})]}),(0,a.jsx)("p",{className:"quote",children:t.currentQuote.split("").map((e,i)=>{let s="\xa0"===e?" ":e,n="\xa0"===t.inputValue[i]?" ":t.inputValue[i],r="";return r=null==n?"":n===s?"correct":"incorrect",(0,a.jsx)("span",{className:r,children:" "===e?"\xa0":e},i)})}),(0,a.jsx)("textarea",{ref:t.inputRef,placeholder:"Start typing here...",disabled:!t.isRunning,value:t.inputValue,onChange:e=>t.onInputChange(e.target.value)}),(0,a.jsxs)("div",{className:"stats",children:[(0,a.jsxs)("p",{className:"badge",children:[(0,a.jsx)("span",{className:"label",children:"WPM"})," ",(0,a.jsx)("span",{children:t.wpm})]}),(0,a.jsxs)("p",{className:"badge",children:[(0,a.jsx)("span",{className:"label",children:"Words"})," ",(0,a.jsx)("span",{children:t.wordsTyped})]})]}),(0,a.jsx)("button",{className:"cta",onClick:t.start,disabled:t.isRunning,children:"Start Typing"})]}),(0,a.jsxs)("aside",{className:"sidebar",children:[(0,a.jsx)("h3",{className:"panel-title",children:"Scoreboard"}),(0,a.jsx)(c,{})]}),t.popupOpen&&(0,a.jsx)("div",{className:"popup",onClick:e=>{e.currentTarget===e.target&&t.closePopup()},children:(0,a.jsxs)("div",{className:"popup-content",children:[(0,a.jsx)("button",{className:"close-btn","aria-label":"Close popup",onClick:t.closePopup,children:"✕"}),(0,a.jsx)("div",{className:"trophy",children:"\uD83C\uDFC6"}),(0,a.jsx)("h2",{children:"Time's Up!"}),(0,a.jsxs)("p",{children:["You typed ",(0,a.jsx)("span",{children:t.wordsTyped})," words"]}),(0,a.jsxs)("p",{children:["Your speed: ",(0,a.jsx)("span",{children:t.wpm})," WPM"]}),(0,a.jsx)("button",{className:"cta small",onClick:()=>{t.closePopup(),t.start()},children:"Play Again"})]})})]})}},4617:(e,t,i)=>{Promise.resolve().then(i.bind(i,429))}},e=>{e.O(0,[441,964,358],()=>e(e.s=4617)),_N_E=e.O()}]);